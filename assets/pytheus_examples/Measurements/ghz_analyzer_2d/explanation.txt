In this example we create a measurement scheme for a three-particle two-dimensional GHZ state.

When all detectors click we confirm that the input photons entering the setup were in the state specified by 'target_state':

|000> + |111>

This measurement requires no ancillary photons, but we have to specify "num_anc" to be three. This is the number of detectors required to measure all three photons.

the value for the keyword 'in_nodes' being [0,1,2] expresses that the three particles described by the target state are incoming particles.

We can visualize the setup in the following way (with the photons going from top to bottom):

incoming: [0 input photon][1 input photon][2 input photon]
setup: [result of optimization, including spdc sources creating ancillary particles]
detectors: [detector][detector][detector]