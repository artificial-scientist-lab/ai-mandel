In this example we create a measurement scheme for a three-particle three-dimensional GHZ state.

When all detectors click we confirm that the input photons entering the setup were in the state specified by 'target_state':

|000> + |111> + |222>

"num_anc" specifies the total number of detectors for measuring all photons to be five. This means that two ancillary photons are created from probabilistic photon pair sources.

The value for the keyword 'in_nodes' being [0,1,2] expresses that the three particles described by the target state are incoming particles.

We can visualize the setup in the following way (with the photons going from top to bottom):

incoming: [0 input photon][1 input photon][2 input photon]
setup: [result of optimization, including spdc sources creating ancillary particles]
detectors: [detector][detector][detector][detector][detector]