In this example we create a measurement scheme for a three-particle Yeo-Chua state.

When all detectors click we confirm that the input photons entering the setup were in the state specified by 'target_state' and "amplitudes"

|0011> - |0100> - |0111> + |1000> + |1100> + |1101> + |1110>

This measurement requires no ancillary photons, but we have to specify "num_anc" to be three. This is the number of detectors required to measure all three photons.

The value for the keyword 'in_nodes' being [0,1,2,4] expresses that the four particles described by the target state are incoming particles.

We can visualize the setup in the following way (with the photons going from top to bottom):

incoming: [0 input photon][1 input photon][2 input photon][3 input photon]
setup: [result of optimization, including spdc sources creating ancillary particles]
detectors: [detector][detector][detector]