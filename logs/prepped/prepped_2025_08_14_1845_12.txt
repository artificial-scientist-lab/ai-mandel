Thought: The core idea is to heraldedly generate the coherent superposition of all three perfect matchings of a two-photon Bell network across four modes. Pytheus can encode this as a four-mode, two-photon Fock superposition with ancilla heralding. We use two SPDC pair sources (num_anc=4 ancilla photons) whose ancilla outputs are mixed in a static 4Ã—4 multiport; upon four ancilla clicks the remaining two photons across the four modes collapse into the equal superposition of the three matchings. We'll set target_state to the six two-photon Fock strings on four modes, enable heralding on ancilla clicks (heralding_out=true), leave out_nodes as the four system modes, and list the ancilla detector ports. 

Action: accept  
Action Input:  
{  
  "description": "Heralded superposition of all three perfect matchings on four modes",  
  "foldername": "supermatch_4",  
  "bulk_thr": 0.1,  
  "edges_tried": 30,  
  "ftol": 1e-06,  
  "loss_func": "cr",  
  "num_anc": 4,  
  "num_pre": 1,  
  "optimizer": "L-BFGS-B",  
  "imaginary": false,  
  "safe_hist": true,  
  "samples": 10,  
  "target_state": ["1010", "0101", "1001", "0110", "1100", "0011"],  
  "in_nodes": [],  
  "out_nodes": [0, 1, 2, 3],  
  "thresholds": [0.3, 0.1],  
  "heralding_out": true,  
  "single_emitters": [],  
  "amplitudes": [],  
  "tries_per_edge": 5,  
  "removed_connections": [],  
  "seed": null,  
  "unicolor": null,  
  "number_resolving": true,  
  "novac": null,  
  "loops": null,  
  "topopt": null,  
  "dimensions": [],  
  "brutal_covers": null,  
  "verts": [],  
  "anc_detectors": [4, 5, 6, 7]  
}