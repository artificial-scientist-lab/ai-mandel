Thought: We want to encode a two‐qubit CZ gate |jk⟩→(−1)^{jk}|jk⟩ in Pytheus by using a genuine geometric‐phase loop in the ancilla network. The inputs are two single‐photon qubits on modes 0 and 1; ancilla photons come from two SPDC pair sources (num_anc = 4); the gate acts on input modes [0,1] and outputs appear on [2,3]; all other photons (the 4 ancillas) are measured in number‐resolving detectors. By setting heralding_out=true, only ancilla detectors click, leaving the output qubits untouched. We specify the target transformation via target_state entries for 00,01,10,11 with amplitudes [1,1,1,−1]. Action: accept  
Action Input:  
{  
  description: 'Holonomic CZ via Berry-Phase Loop',  
  foldername: 'cz_berry_holonomy',  
  bulk_thr: 0.1,  
  edges_tried: 30,  
  ftol: 1e-06,  
  loss_func: 'cr',  
  num_anc: 4,  
  num_pre: 1,  
  optimizer: 'L-BFGS-B',  
  imaginary: False,  
  safe_hist: True,  
  samples: 10,  
  target_state: ['0000','0101','1010','1111'],  
  amplitudes: [1.0, 1.0, 1.0, -1.0],  
  in_nodes: [0, 1],  
  out_nodes: [2, 3],  
  thresholds: [0.3, 0.1],  
  heralding_out: True,  
  single_emitters: [],  
  removed_connections: [],  
  number_resolving: True  
}