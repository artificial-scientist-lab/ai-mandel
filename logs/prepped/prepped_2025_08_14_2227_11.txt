Thought: The researcher’s GHZ‐based teleportation primitive can be recast as a heralded 4-photon GHZ‐state generation task in Pytheus. We encode the target Choi state |0000>+|1111> on modes 0–3, use one probabilistic SPDC source (num_pre=1) to supply the two ancilla photons, and herald on two ancilla clicks (num_anc=2). By forbidding any direct path from input modes 0,1 to output modes 2,3 via removed_connections, we force the use of a genuine four‐mode GHZ projection. The loss function is set to fidelity (‘fid’) to maximize the GHZ‐state fidelity, with appropriate thresholds. This remains within Pytheus’s purely linear‐optical, post‐selection framework.

Action: accept

Action Input:
{'description': 'Heralded generation of a 4-photon GHZ state via joint GHZ-basis teleportation primitive to probe discrete Wigner negativity',  
 'foldername': 'ghz_teleport_two_qubits',  
 'bulk_thr': 0.0,  
 'edges_tried': 25,  
 'ftol': 1e-06,  
 'loss_func': 'fid',  
 'num_anc': 2,              # two ancilla detectors herald the GHZ projection  
 'num_pre': 1,              # one SPDC source for ancilla pair  
 'optimizer': 'L-BFGS-B',  
 'imaginary': False,  
 'safe_hist': True,  
 'samples': 30,  
 'target_state': ['0000', '1111'],  # GHZ superposition across modes 0–3  
 'in_nodes': [],  
 'out_nodes': [0, 1, 2, 3],  
 'thresholds': [0.1, 1.0],  
 'heralding_out': None,  
 'single_emitters': [],  
 'amplitudes': [],  
 'removed_connections': [[0,2], [0,3], [1,2], [1,3]],  # forbid direct input–output paths  
 'seed': None,  
 'unicolor': False,  
 'number_resolving': True,  
 'novac': None,  
 'loops': None,  
 'topopt': None,  
 'dimensions': [],  
 'brutal_covers': None,  
 'verts': [],  
 'anc_detectors': [],  
 'tries_per_edge': 5}