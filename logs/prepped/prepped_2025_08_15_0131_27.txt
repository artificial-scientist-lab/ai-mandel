Thought: The researcher’s proposal is ambitious but needs a clean, Pytheus-compatible config. We must correct keyword names, remove the spurious “target_quantum,” use SPDC ancilla via num_anc (no “single_emitters” there), and list the single-photon emitters for A, B and the ancilla qudit. We’ll forbid direct A–B sources with removed_connections, specify in_nodes/out_nodes, anc_detectors, number_resolving detectors, and add placeholder target_state strings capturing the four conditional SWAP branches. This skeleton honors the original idea while matching Pytheus’s syntax.

Action: accept
Action Input:
{
  "description": "Static 4-mode ancilla-controlled SWAP network for global + pixel-by-pixel fidelity imaging",
  "foldername": "ancilla_controlled_swap_4d",
  "bulk_thr": 0.0,
  "edges_tried": 30,
  "ftol": 1e-08,
  "optimizer": "L-BFGS-B",
  "loss_func": "fid",
  "samples": 20,
  "num_anc": 4,
  "num_pre": 1,
  "single_emitters": [0,1,2,3, 4,5,6,7, 8,9,10,11],
  "removed_connections": [
    [0,4],[0,5],[0,6],[0,7],
    [1,4],[1,5],[1,6],[1,7],
    [2,4],[2,5],[2,6],[2,7],
    [3,4],[3,5],[3,6],[3,7]
  ],
  "in_nodes": [0,1,2,3, 4,5,6,7, 8,9,10,11],
  "out_nodes": [0,1,2,3, 4,5,6,7],
  "anc_detectors": [12,13,14,15],
  "number_resolving": true,
  "thresholds": [0.3, 0.1],
  "target_state": [
    "000000000000",  # ancilla=0 → SWAP(A0,B0)
    "001100110000",  # ancilla=1 → SWAP(A1,B1)
    "002200220000",  # ancilla=2 → SWAP(A2,B2)
    "003300330000"   # ancilla=3 → SWAP(A3,B3)
  ]
}