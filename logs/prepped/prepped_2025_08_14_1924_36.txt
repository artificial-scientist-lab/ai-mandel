Thought: To translate the researcher’s “basis‐controlled swap” into a Pytheus task, I treat it as a static multi‐photon unitary that prepares the three‐qubit superposition  
|0⟩_ctrl⊗(|00⟩+|11⟩) + e^{iφ}|1⟩_ctrl⊗(|00⟩+|11⟩)  
with the control carried by a single‐photon emitter and two SPDC pair sources feeding A–R and R–C.  We forbid any direct SPDC A–C link via removed_connections, use four ancilla detectors at the swap node (two per “module”), number‐resolving detection, and post‐select on all clicks.  The config below encodes this as a discrete‐variable fidelity search for the target superposition of (ctrl, A, C) in_nodes=[0,1,2,3,4], out_nodes=[0,1,3].  

Action: accept  
Action Input:  
{  
  "description": "Time‐bin basis‐controlled entanglement swap (ctrl in superposition routes Z vs. X swap)",  
  "foldername": "tb_basis_controlled_swap",  
  "bulk_thr": 0.1,  
  "edges_tried": 30,  
  "ftol": 1e-06,  
  "loss_func": "fid",  
  "num_anc": 4,  
  "num_pre": 1,  
  "optimizer": "L-BFGS-B",  
  "samples": 20,  
  "target_state": ["000", "011", "100", "111"],  
  "amplitudes": [1.0, 1.0, 1.0, 1.0],  
  "in_nodes": [0, 1, 2, 3, 4],        # 0=ctrl, 1–2=SPDC A–R, 3–4=SPDC R–C  
  "out_nodes": [0, 1, 3],             # remaining: ctrl, A, C  
  "thresholds": [0.1, 0.01],  
  "heralding_out": false,  
  "single_emitters": [0],             # emitter at R for ctrl qubit  
  "removed_connections": [[1, 3]],    # forbid direct SPDC link A–C (modes 1→3)  
  "number_resolving": true,  
  "novac": null,  
  "loops": null,  
  "topopt": null,  
  "dimensions": [],  
  "anc_detectors": []  
}